/*#PRAGMA encoding="ISO-8859-15";*/
CREATE TABLE forms
  (id INTEGER PRIMARY KEY NOT NULL,
   name TEXT NOT NULL DEFAULT 'form0',
   title TEXT NOT NULL DEFAULT '',
   mnunam TEXT NOT NULL DEFAULT '',
   mnugrp TEXT NOT NULL DEFAULT ''
  );
CREATE TABLE errors
  (id INTEGER PRIMARY KEY NOT NULL,
   num INTEGER NOT NULL DEFAULT 1,
   severity INTEGER NOT NULL DEFAULT 0,
   etext TEXT NOT NULL DEFAULT ''
  );
INSERT INTO errors (num, severity, etext) VALUES (24, 3, 'Out of memory');
INSERT INTO errors (num, severity, etext) VALUES (26, 3, 'Error opening key script file');
INSERT INTO errors (num, severity, etext) VALUES (51, 3, '');
INSERT INTO errors (num, severity, etext) VALUES (50, 3, 'SQL');
INSERT INTO errors (num, severity, etext) VALUES (52, 3, 'JS');
INSERT INTO errors (num, severity, etext) VALUES (100, 1, 'At first record');
INSERT INTO errors (num, severity, etext) VALUES (101, 2, 'Can''t edit a key field');
INSERT INTO errors (num, severity, etext) VALUES (102, 2, 'Record must be entered or deleted first');
INSERT INTO errors (num, severity, etext) VALUES (103, 1, 'At last record');
INSERT INTO errors (num, severity, etext) VALUES (104, 2, 'No record');
INSERT INTO errors (num, severity, etext) VALUES (105, 1, 'Really delete this record?');
INSERT INTO errors (num, severity, etext) VALUES (200, 2, 'Field is protected against update');
INSERT INTO errors (num, severity, etext) VALUES (201, 2, 'Field is not matching re');
INSERT INTO errors (num, severity, etext) VALUES (207, 2, 'Must be in range');
INSERT INTO errors (num, severity, etext) VALUES (208, 2, 'Form running in query-only mode. No changes');
INSERT INTO errors (num, severity, etext) VALUES (106, 2, 'Form running in query mode. No insert');
INSERT INTO errors (num, severity, etext) VALUES (209, 2, 'Field must be in the form');
INSERT INTO errors (num, severity, etext) VALUES (210, 2, 'Cannot copy field to first record');
INSERT INTO errors (num, severity, etext) VALUES (301, 2, 'Query caused no records to be retrieved');
INSERT INTO errors (num, severity, etext) VALUES (401, 1, 'No changes to commit');
INSERT INTO errors (num, severity, etext) VALUES (402, 2, 'Abort changes?');
INSERT INTO errors (num, severity, etext) VALUES (403, 1, 'Not yet implemented - sorry');
CREATE TABLE blocks
  (id INTEGER PRIMARY KEY NOT NULL,
   form_id INTEGER NOT NULL DEFAULT 1,
   name TEXT NOT NULL DEFAULT 'dual',
   seq INTEGER NOT NULL DEFAULT 1,
   norec INTEGER NOT NULL DEFAULT 1,
   prikey TEXT NOT NULL DEFAULT 'id',
   whereand TEXT NOT NULL DEFAULT '',
   orderby TEXT NOT NULL DEFAULT ''
  );
INSERT INTO blocks (form_id, name, seq) VALUES (0, 'dual', 1);
INSERT INTO blocks (form_id, name, seq) VALUES (0, 'dual2', 2);
INSERT INTO blocks (form_id, name, seq) VALUES (0, 'dual3', 3);
INSERT INTO blocks (form_id, name, seq) VALUES (0, 'dual4', 4);
CREATE TABLE fields
  (id INTEGER PRIMARY KEY NOT NULL,
   form_id INTEGER NOT NULL DEFAULT 1,
   blcn INTEGER NOT NULL DEFAULT 4,
   pgen INTEGER NOT NULL DEFAULT 1,
   name TEXT NOT NULL DEFAULT 'field0',
   seq INTEGER NOT NULL DEFAULT 1,
   ftype INTEGER NOT NULL DEFAULT 0,
   len INTEGER NOT NULL DEFAULT 30,
   dlen INTEGER NOT NULL DEFAULT 20,
   btab INTEGER NOT NULL DEFAULT 1,
   key INTEGER NOT NULL DEFAULT 0,
   dflt TEXT NOT NULL DEFAULT '',
   line INTEGER NOT NULL DEFAULT 0,
   col INTEGER NOT NULL DEFAULT 19,
   enter INTEGER NOT NULL DEFAULT 1,
   query INTEGER NOT NULL DEFAULT 1,
   upd INTEGER NOT NULL DEFAULT 1,
   updnul INTEGER NOT NULL DEFAULT 1,
   mand INTEGER NOT NULL DEFAULT 0,
   upper INTEGER NOT NULL DEFAULT 0,
   lovtit TEXT NOT NULL DEFAULT '',
   lov_id INTEGER NOT NULL DEFAULT 0,
   lovi_id INTEGER NOT NULL DEFAULT 0,
   low INTEGER NOT NULL DEFAULT 0,
   high INTEGER NOT NULL DEFAULT 0,
   valpatn TEXT NOT NULL DEFAULT '',
   help TEXT NOT NULL DEFAULT ''
  );
CREATE TABLE triggers
  (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
   form_id INTEGER NOT NULL DEFAULT 1,
   trgfld INTEGER NOT NULL DEFAULT 0,
   trgtyp INTEGER NOT NULL DEFAULT 0,
   page_id INTEGER NOT NULL DEFAULT 0
  );
INSERT INTO triggers (form_id, trgfld, trgtyp, page_id) VALUES (0,0,1008,1008);
INSERT INTO triggers (form_id, trgfld, trgtyp, page_id) VALUES (0,0,1009,1009);
INSERT INTO triggers (form_id, trgfld, trgtyp, page_id) VALUES (0,0,1010,1010);
CREATE TABLE maps
  (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
   page_id INTEGER NOT NULL DEFAULT 1,
   line INTEGER NOT NULL DEFAULT 1,
   mtext TEXT NOT NULL DEFAULT ''
  );
INSERT INTO maps (page_id, line, mtext) VALUES (2, 0, 'KEY C FUNCTION     KEY   C FUNCTION');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 1, 'Tab i NextField    ^Tab  g PrevField');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 2, 'F1  @ Field Help   Esc   y Cancel');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 3, 'F2  c Copy         >     f Right');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 4, 'F3  v Paste        <     b Left');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 5, 'F4  t Duplicate    Up    p PreviousRec');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 6, 'F5  u ListOfVal    Down  n NextRecord');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 7, 'F6  o Insert       Ins   j Insert');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 8, 'F7  d Delete       Del   d Delete');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 9, 'F8  z Exit         <--   h DeleteLast');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 10, 'F9  y Cancel       PgUp  r PrevSetRec');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 11, 'F10 x Query        PgDn  w NextSetRec');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 12, 'F11 k Key Help     Home  a PrevBlock');
INSERT INTO maps (page_id, line, mtext) VALUES (2, 13, 'F12 l Refresh      End   e NextBlock');
INSERT INTO maps (page_id, line, mtext) VALUES (1008, 1, '$(cb + "." + cf, cr - 1);');
INSERT INTO maps (page_id, line, mtext) VALUES (1009, 1, 'clip = cv;529;');
INSERT INTO maps (page_id, line, mtext) VALUES (1010, 1, 'clip;');
CREATE TABLE pages
  (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
   form_id INTEGER NOT NULL DEFAULT 1,
   name TEXT NOT NULL DEFAULT 'page0',
   seq INTEGER NOT NULL DEFAULT 1,
   title TEXT NOT NULL DEFAULT '',
   ysiz INTEGER NOT NULL DEFAULT 23,
   xsiz INTEGER NOT NULL DEFAULT 80,
   vwpy0 INTEGER NOT NULL DEFAULT 1,
   vwpx0 INTEGER NOT NULL DEFAULT 0,
   popup INTEGER NOT NULL DEFAULT 0,
   border INTEGER NOT NULL DEFAULT 1,
   dislv INTEGER NOT NULL DEFAULT 0
  );
INSERT INTO pages (form_id, seq, name, ysiz, vwpy0, border) VALUES (0, 0, 'status', 1, 0, 0);
INSERT INTO pages (form_id, seq, name, ysiz, xsiz, vwpy0, vwpx0, popup, border) VALUES (0, 2, 'keyhelp', 16, 41, 2, 30, 1, 1);
INSERT INTO pages (form_id, seq, name, ysiz, xsiz, vwpy0, vwpx0, popup, border) VALUES (0, 3, 'editor', 21, 65, 2, 14, 1, 1);
INSERT INTO forms VALUES(1,'trgr','Trigger','','');
INSERT INTO blocks VALUES (null,1,'triggers',50,1,'id','','');
INSERT INTO pages VALUES (null,1,'formax',1,'',23,80,1,0,0,1,0);
INSERT INTO fields VALUES (null,1,4,1,'id',10,0,30,20,1,1,'',1,19,1,1,1,1,0,0,'',0,0,0,0,'','');
INSERT INTO fields VALUES (null,1,4,1,'form_id',20,0,30,20,1,0,'',2,19,1,1,1,1,0,0,'',0,0,0,0,'','');
INSERT INTO fields VALUES (null,1,4,1,'trgfld',30,0,30,20,1,0,'',3,19,1,1,1,1,0,0,'',0,0,0,0,'','');
INSERT INTO fields VALUES (null,1,4,1,'trgtyp',40,0,30,20,1,0,'',4,19,1,1,1,1,0,0,'',0,0,0,0,'','');
INSERT INTO fields VALUES (null,1,4,1,'page_id',50,0,30,20,1,0,'',5,19,1,1,1,1,0,0,'',0,0,0,0,'','');
INSERT INTO maps VALUES (null,4,0,'         ');
INSERT INTO maps VALUES (null,4,1,' [1]id             $1__________________');
INSERT INTO maps VALUES (null,4,2,' [2]form_id        $2__________________');
INSERT INTO maps VALUES (null,4,3,' [3]trgfld         $3__________________');
INSERT INTO maps VALUES (null,4,4,' [4]trgtyp         $4__________________');
INSERT INTO maps VALUES (null,4,5,' [5]page_id        $5__________________ [ edit body');
INSERT INTO maps VALUES (null,4,6,'');
INSERT INTO maps VALUES (null,4,7,'#define TRT_ENTERFORM  1000');
INSERT INTO maps VALUES (null,4,8,'#define TRT_NEXTITEM   1001');
INSERT INTO maps VALUES (null,4,9,'#define TRT_PREVITEM   1002');
INSERT INTO maps VALUES (null,4,10,'#define TRT_NEXTRECORD 1003');
INSERT INTO maps VALUES (null,4,11,'#define TRT_PREVRECORD 1004');
INSERT INTO maps VALUES (null,4,12,'#define TRT_NEXTSETREC 1005');
INSERT INTO maps VALUES (null,4,13,'#define TRT_PREVSETREC 1006');
INSERT INTO maps VALUES (null,4,14,'#define TRT_EDITFIELD  1007');
INSERT INTO maps VALUES (null,4,15,'#define TRT_COPYREC    1008');
INSERT INTO maps VALUES (null,4,16,'#define TRT_COPY       1009');
INSERT INTO maps VALUES (null,4,17,'#define TRT_PASTE      1010');
INSERT INTO maps VALUES (null,4,18,'#define TRT_POSTQUERY  1011');
INSERT INTO maps VALUES (null,4,19,'#define TRT_NEXTBLOCK  1012');
INSERT INTO maps VALUES (null,4,20,'#define TRT_PREVBLOCK  1013');
INSERT INTO maps VALUES (null,4,21,'#define TRT_EXEQUERY   1014');
UPDATE fields SET blcn = 4 WHERE blcn = 1;
UPDATE blocks SET seq = 50 WHERE form_id = 1;
